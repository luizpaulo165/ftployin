<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>ftployin</title>
    <link rel="stylesheet" href="assets/css/app.min.css">
  </head>
  <body>
    <div id="app">
      <div class="ui window-title drag-region">{{ title }}</div>
      
      <div class="ui window-body">
        <div class="cols full-height">
          <div class="col-3">

            <div class="ui text sub upper purple bold">projects</div>

            <ul class="ui nav">
              <li 
                class="nav-item"
                v-for="project in projects"
                v-bind:class="{selected: project.selected}"
                @click="selectProject(project)"
              >{{ project.name }}</li>
            </ul>

            <div class="footer">
              <button class="ui btn green" v-on:click="addProject()">add project</button>
            </div>
          </div>
          <div class="col-9 ui bg white-opacity no-padding-top">

            <div v-if="currentProject">
              <h1 class="ui">{{ currentProject.name }}</h1>

              <div class="info">
                <!-- <span class="ui text gray upper sub">local path:</span> -->
                <span class="ui text green sub">{{ currentProject.path }}</span>
              </div>

              <br>

              <div class="cols envs-title">
                <div class="col-9 no-padding">
                  <span class="ui text upper sub bold gray no-margin">Enviroments</span>
                </div>
                <div class="col-3 no-padding">
                  <button class="ui btn small yellow" @click="addEnv()">
                    + new enviroment  
                  </button>
                </div>
              </div>

              <div class="env-list">
                <div class="env-list-item cols" v-for="env in currentProject.envs">
                  <div class="col-10 no-padding">
                    <span class="ui text cyan sub">{{ env.name }}</span>
                  </div>
                  <div class="col-2 no-padding">
                    <div class="cols">
                      <div class="col-4">
                        <button class="ui btn small cyan" @click="editEnv(env)">
                          <i class="ui icon edit"></i>
                        </button>
                      </div>
                      <div class="col-4">
                        <button class="ui btn small pink" @click="deleteEnv(env)">
                          <i class="ui icon trash"></i>
                        </button>
                      </div>
                      <div class="col-4">
                        <button class="ui btn small green" @click="deploy(currentProject.path, env)">
                          <i class="ui icon deploy"></i>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>

    <script src="assets/js/vue.min.js"></script>
    <script src="src/js/app.js"></script>
  </body>
</html>